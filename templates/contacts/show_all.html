{% extends 'layout.html' %}

{% block content %}
  <div class="row mb-1">
    <div class="col d-flex justify-content-end">
      <form href="/contacts" method="get" class="row row-cols-lg-auto g-2 align-items-center">
        <div class="col-12">
          <input type="search"
                 id="search" name="q"
                 aria-label="Search"
                 class="form-control"
                 value="{{ request.args.get("q") or '' }}"
                 placeholder="Search Term"/>
        </div>
        <div class="col-12">
          <button type="submit" class="btn btn-primary">
            <i class="fa fa-search"></i>
            Search
          </button>
        </div>
      </form>
    </div>
  </div>
  <div class="row mb-1">
    <table class="table table-striped table-bordered table-hover">
      <thead>
      <tr>
        <th scope="col">First Name</th>
        <th scope="col">Last Name</th>
        <th scope="col">Phone</th>
        <th scope="col">Email</th>
        <th scope="col"></th>
      </tr>
      </thead>
      <tbody>
      {% for contact in contacts %}
        <tr>
          <td>{{ contact.first }}</td>
          <td>{{ contact.last }}</td>
          <td>{{ contact.phone }}</td>
          <td>{{ contact.email }}</td>
          <td class="d-flex justify-content-end">
            <a class="btn btn-success"
               role="button"
               href="/contacts/{{ contact.id }}/edit">
              <i class="fa fa-pencil"></i>
              Edit
            </a>&nbsp;
            <a class="btn btn-info"
               role="button"
               href="/contacts/{{ contact.id }}">
              <i class="fa fa-eye"></i>
              View
            </a>
          </td>
        </tr>
      {% endfor %}
      </tbody>
      <tfoot>
      <tr>
        <td colspan="4" style="border-right: none">
          <a href="/contacts/new" class="btn btn-outline-primary" role="button">
            <i class="fa fa-circle-plus"></i>
            Add Contact
          </a>
        </td>
        <td class="d-flex justify-content-end" style="border-left: none">
          <a href="/contacts?page={{ page - 1 }}"
             title="Previous"
             class="btn btn-primary{% if page == 1 %} disabled-link{% endif %}"
             role="button">
            <i class="fa fa-backward"></i>
          </a>
          <a href="/contacts?page={{ page + 1 }}"
             title="Next"
             class="btn btn-primary ms-1{% if contacts|length < 10 %} disabled-link{% endif %}"
             role="button">
            <i class="fa fa-forward"></i>
          </a>
        </td>
      </tr>
      </tfoot>
    </table>
  </div>
{% endblock %}
